---
import BaseLayout from '../layouts/BaseLayout.astro'
import { SITE_TITLE, SocialLinks } from '../consts'
---

<BaseLayout title="About" description="About me and this website">
	<main class="app-container pt-36">
		<h1 class="text-5xl md:text-6xl pb-2">About</h1>
	</main>

	<section class="app-container py-12">
		<div class="game-grid mb-16 mx-auto">
			<div class="game-scene mario-scene" id="mario-game">
				<div class="game-block" id="game-block">
					<span class="block-question">?</span>
				</div>
				<div class="popup-coin" id="popup-coin"></div>
				<div class="popup-mushroom" id="popup-mushroom">
					<div class="mushroom-cap"></div>
					<div class="mushroom-stem"></div>
				</div>
				<div class="pixel-mario" id="pixel-mario"></div>
				<div class="game-ground"></div>
				<p class="scene-hint" id="mario-hint">Click to play!</p>
			</div>

			<div class="game-scene link-scene" id="link-scene">
				<div class="grass-patch grass-1"></div>
				<div class="grass-patch grass-2"></div>
				<div class="grass-patch grass-3"></div>
				<div class="pixel-link" id="pixel-link"></div>
				<div class="sword-beam" id="sword-beam"></div>
				<div class="link-triforce" id="link-triforce">
					<div class="triforce-piece"></div>
					<div class="triforce-piece"></div>
					<div class="triforce-piece"></div>
				</div>
				<div class="link-ground"></div>
				<p class="scene-hint" id="link-hint">Click to attack!</p>
			</div>

			<div class="game-scene kirby-scene" id="kirby-scene">
				<div class="pixel-cloud cloud-1"></div>
				<div class="pixel-cloud cloud-2"></div>
				<div class="pixel-kirby" id="pixel-kirby">
					<div class="kirby-cheek left"></div>
					<div class="kirby-cheek right"></div>
				</div>
				<div class="inhale-effect" id="inhale-effect"></div>
				<div class="pop-star" id="pop-star"></div>
				<div class="kirby-ground"></div>
				<p class="scene-hint" id="kirby-hint">Click to float!</p>
			</div>

			<div class="game-scene ac-scene" id="ac-scene">
				<div class="nook-leaf-bg"></div>

				<div class="pixel-isabelle" id="pixel-isabelle">
					<div class="hair-bell"></div>
				</div>

				<div class="celebrate-effects" id="celebrate-effects">
					<div class="sparkle s1"></div>
					<div class="sparkle s2"></div>
					<div class="sparkle s3"></div>
					<div class="flower f1"></div>
					<div class="flower f2"></div>
				</div>

				<div class="ac-ground">
					<div class="grass-triangle t1"></div>
					<div class="grass-triangle t2"></div>
					<div class="grass-triangle t3"></div>
				</div>
				<p class="scene-hint" id="ac-hint">Click to greet!</p>
			</div>
		</div>

		<div class="grid md:grid-cols-2 gap-12">
			<div class="space-y-4">
				<h2 class="text-3xl flex items-center gap-3">
					<span class="zelda-heart" style="width: 24px; height: 21px;"></span>
					关于我
				</h2>
				<div class="space-y-3 text-lg leading-relaxed">
					<p>你好！我是 <strong>Spring Breeze</strong>。</p>
					<p>一名热爱游戏与编程的开发者。</p>
				</div>
			</div>

			<div class="space-y-4">
				<h2 class="text-3xl flex items-center gap-3">
					<span class="mario-star" style="width: 24px; height: 24px;"></span>
					关于网站
				</h2>
				<div class="space-y-3 text-lg leading-relaxed">
					<p><strong>{SITE_TITLE}</strong> 是我的个人博客，在这里我会分享：</p>
					<ul class="list-none space-y-2 pl-0">
						<li class="flex items-center gap-2">
							<span class="mario-coin" style="width: 16px; height: 16px;"
							></span>
							编程技术与开发经验
						</li>
						<li class="flex items-center gap-2">
							<span class="mario-coin" style="width: 16px; height: 16px;"
							></span>
							游戏体验与评测
						</li>
						<li class="flex items-center gap-2">
							<span class="mario-coin" style="width: 16px; height: 16px;"
							></span>
							生活感悟与随想
						</li>
					</ul>
				</div>
			</div>

			<div class="space-y-4">
				<h2 class="text-3xl flex items-center gap-3">
					<span class="pikachu-bolt" style="width: 18px; height: 30px;"></span>
					技术栈
				</h2>
				<div class="flex flex-wrap gap-3">
					<span
						class="nintendo-badge bg-primary/20 text-primary dark:bg-primary-dark/20 dark:text-primary-dark"
						>Astro</span
					>
					<span class="nintendo-badge bg-accent-2/20 text-accent-2"
						>TypeScript</span
					>
					<span
						class="nintendo-badge bg-accent-3/20 text-yellow-600 dark:text-accent-3"
						>Tailwind CSS</span
					>
					<span class="nintendo-badge bg-accent-1/20 text-accent-1">MDX</span>
				</div>
			</div>

			<div class="space-y-4">
				<h2 class="text-3xl flex items-center gap-3">
					<span class="ac-leaf" style="width: 20px; height: 23px;"></span>
					找到我
				</h2>
				<div class="flex flex-wrap gap-4">
					{
						SocialLinks.map((link) => (
							<a
								href={link.url}
								target="_blank"
								rel="noopener noreferrer"
								class="btn-secondary"
							>
								{link.name}
							</a>
						))
					}
				</div>
			</div>
		</div>
	</section>

	<section class="app-container py-12 mb-8">
		<div class="flex items-center justify-center gap-6 opacity-40">
			<div
				class="mario-block hover-bounce"
				style="width: 32px; height: 32px; font-size: 14px;"
			>
			</div>
			<div class="mario-mushroom" style="width: 28px; height: 25px;"></div>
			<div class="kirby hover-bounce" style="width: 36px; height: 33px;"></div>
			<div class="triforce" style="width: 40px; height: 35px;">
				<div
					class="triforce-piece"
					style="border-left-width: 10px; border-right-width: 10px; border-bottom-width: 17px;"
				>
				</div>
				<div
					class="triforce-piece"
					style="border-left-width: 10px; border-right-width: 10px; border-bottom-width: 17px;"
				>
				</div>
				<div
					class="triforce-piece"
					style="border-left-width: 10px; border-right-width: 10px; border-bottom-width: 17px;"
				>
				</div>
			</div>
		</div>
	</section>
</BaseLayout>

<style lang="less">
	/* ========== 游戏角色栅格 (通用) ========== */
	.game-grid {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		gap: 24px;
		max-width: 624px;
		> * {
			width: 100%; /* 适配 Grid */
			aspect-ratio: 1; /* 保持正方形 */
		}
	}

	@media (max-width: 500px) {
		.game-grid {
			grid-template-columns: 1fr;
			> * {
				width: 300px; /* 移动端固定宽度居中 */
				margin: 0 auto;
			}
		}
	}

	/* 通用场景容器样式 */
	.game-scene {
		position: relative;
		cursor: pointer;
		user-select: none;
		background: transparent;
		border-radius: 12px;
		overflow: hidden;
		/* 可选：给每个场景加一个极淡的背景色以便区分，或者保持完全透明 */
		/* background: rgba(0,0,0,0.02); */
	}

	/* 通用提示文字 */
	.scene-hint {
		position: absolute;
		bottom: -30px;
		left: 50%;
		transform: translateX(-50%);
		font-size: 14px;
		opacity: 0.6;
		white-space: nowrap;
		transition: opacity 0.3s;
		font-family: var(--font-pixel, monospace); /* 建议添加像素字体回退 */
		font-weight: bold;
		color: #555;
	}

	.game-scene:hover .scene-hint {
		opacity: 1;
	}

	/* =========================================
     1. 马里奥场景 (Mario)
     ========================================= */
	.mario-scene .game-ground {
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		height: 30px;
		background: repeating-linear-gradient(
			90deg,
			#8b4513 0px,
			#8b4513 20px,
			#a0522d 20px,
			#a0522d 40px
		);
		border-top: 4px solid #654321;
	}

	.game-block {
		position: absolute;
		top: 60px;
		left: 50%;
		transform: translateX(-50%);
		width: 48px;
		height: 48px;
		background: linear-gradient(135deg, #ffd93d 0%, #f5a623 100%);
		border: 4px solid #8b4513;
		border-radius: 6px;
		box-shadow:
			inset 3px 3px 0 rgba(255, 255, 255, 0.4),
			inset -3px -3px 0 rgba(0, 0, 0, 0.2),
			0 4px 0 #654321;
		display: flex;
		align-items: center;
		justify-content: center;
		transition: transform 0.1s;
		z-index: 2;
	}
	.game-block.hit {
		animation: block-bump 0.15s ease-out;
	}
	.block-question {
		font-size: 28px;
		font-weight: bold;
		color: #8b4513;
		text-shadow: 1px 1px 0 rgba(255, 255, 255, 0.5);
	}
	@keyframes block-bump {
		50% {
			transform: translateX(-50%) translateY(-8px);
		}
	}

	.popup-coin {
		position: absolute;
		top: 60px;
		left: 50%;
		transform: translateX(-50%);
		width: 24px;
		height: 24px;
		background: #ffd700;
		border-radius: 50%;
		border: 3px solid #b8860b;
		opacity: 0;
		pointer-events: none;
		z-index: 1;
	}
	.popup-coin.animate {
		animation: coin-popup 0.6s ease-out forwards;
	}
	@keyframes coin-popup {
		50% {
			opacity: 1;
			transform: translateX(-50%) translateY(-80px) rotateY(360deg);
		}
		100% {
			opacity: 0;
			transform: translateX(-50%) translateY(-100px) rotateY(720deg);
		}
	}

	.popup-mushroom {
		position: absolute;
		top: 12px;
		left: 50%;
		transform: translateX(-50%);
		width: 40px;
		height: 36px;
		opacity: 0;
		pointer-events: none;
		z-index: 1;
	}
	.popup-mushroom.animate {
		animation: mushroom-appear 0.5s ease-out 0.3s forwards;
	}
	.popup-mushroom.walk {
		animation: mushroom-walk 1.5s ease-in-out forwards;
	}
	.mushroom-cap {
		position: absolute;
		top: 0;
		left: 50%;
		transform: translateX(-50%);
		width: 36px;
		height: 22px;
		background: #43a047;
		border-radius: 50% 50% 30% 30%;
		border: 3px solid #1b5e20;
	}
	.mushroom-cap::before,
	.mushroom-cap::after {
		content: '';
		position: absolute;
		background: white;
		border-radius: 50%;
	}
	.mushroom-cap::before {
		width: 10px;
		height: 10px;
		top: 4px;
		left: 6px;
	}
	.mushroom-cap::after {
		width: 8px;
		height: 8px;
		top: 6px;
		right: 6px;
	}
	.mushroom-stem {
		position: absolute;
		bottom: 0;
		left: 50%;
		transform: translateX(-50%);
		width: 20px;
		height: 14px;
		background: #f5f5dc;
		border: 3px solid #d4c896;
		border-top: none;
	}
	@keyframes mushroom-appear {
		100% {
			opacity: 1;
			transform: translateX(-50%) translateY(0);
		}
	}
	@keyframes mushroom-walk {
		80% {
			opacity: 1;
			transform: translateX(80px);
		}
		100% {
			opacity: 0;
			transform: translateX(100px);
		}
	}

	.pixel-mario {
		--pixel-size: 6px;
		--red: #e52521;
		--skin: #ffa64d;
		--brown: #6b3e08;
		--blue: #2058d8;
		--yellow: #ffd93d;
		position: absolute;
		bottom: 30px;
		left: 50%;
		transform: translateX(-50%);
		width: calc(12 * var(--pixel-size));
		height: calc(16 * var(--pixel-size));
		image-rendering: pixelated;
		background: transparent;
		z-index: 3;
	}
	.pixel-mario.jump {
		animation: mario-jump-hit 0.5s ease-out;
	}
	@keyframes mario-jump-hit {
		40% {
			transform: translateX(-50%) translateY(-100px);
		}
	}
	/* 马里奥像素点 (简化引用，内容与之前一致) */
	.pixel-mario::before {
		content: '';
		position: absolute;
		width: var(--pixel-size);
		height: var(--pixel-size);
		box-shadow:
			calc(3 * var(--pixel-size)) 0 var(--red),
			calc(4 * var(--pixel-size)) 0 var(--red),
			calc(5 * var(--pixel-size)) 0 var(--red),
			calc(6 * var(--pixel-size)) 0 var(--red),
			calc(7 * var(--pixel-size)) 0 var(--red),
			calc(2 * var(--pixel-size)) var(--pixel-size) var(--red),
			calc(3 * var(--pixel-size)) var(--pixel-size) var(--red),
			calc(4 * var(--pixel-size)) var(--pixel-size) var(--red),
			calc(5 * var(--pixel-size)) var(--pixel-size) var(--red),
			calc(6 * var(--pixel-size)) var(--pixel-size) var(--red),
			calc(7 * var(--pixel-size)) var(--pixel-size) var(--red),
			calc(8 * var(--pixel-size)) var(--pixel-size) var(--red),
			calc(9 * var(--pixel-size)) var(--pixel-size) var(--red),
			calc(2 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--brown),
			calc(3 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--brown),
			calc(4 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--brown),
			calc(5 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--skin),
			calc(6 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--skin),
			calc(7 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--skin),
			calc(8 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--skin),
			calc(1 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--brown),
			calc(2 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--skin),
			calc(3 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--brown),
			calc(4 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--skin),
			calc(5 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--skin),
			calc(6 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--skin),
			calc(7 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--skin),
			calc(8 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--skin),
			calc(9 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--skin),
			calc(1 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--brown),
			calc(2 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--skin),
			calc(3 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--brown),
			calc(4 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--brown),
			calc(5 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--skin),
			calc(6 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--skin),
			calc(7 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--skin),
			calc(8 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--skin),
			calc(9 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--skin),
			calc(10 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--skin),
			calc(1 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--brown),
			calc(2 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--brown),
			calc(3 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--skin),
			calc(4 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--skin),
			calc(5 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--skin),
			calc(6 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--skin),
			calc(7 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--brown),
			calc(8 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--brown),
			calc(9 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--brown),
			calc(3 * var(--pixel-size)) calc(6 * var(--pixel-size)) var(--skin),
			calc(4 * var(--pixel-size)) calc(6 * var(--pixel-size)) var(--skin),
			calc(5 * var(--pixel-size)) calc(6 * var(--pixel-size)) var(--skin),
			calc(6 * var(--pixel-size)) calc(6 * var(--pixel-size)) var(--skin),
			calc(7 * var(--pixel-size)) calc(6 * var(--pixel-size)) var(--skin),
			calc(8 * var(--pixel-size)) calc(6 * var(--pixel-size)) var(--skin),
			calc(2 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--red),
			calc(3 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--red),
			calc(4 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--blue),
			calc(5 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--red),
			calc(6 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--red),
			calc(7 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--red),
			calc(8 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--blue),
			calc(9 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--red),
			calc(10 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--red),
			calc(1 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--red),
			calc(2 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--red),
			calc(3 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--red),
			calc(4 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--blue),
			calc(5 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--red),
			calc(6 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--red),
			calc(7 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--red),
			calc(8 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--blue),
			calc(9 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--red),
			calc(10 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--red),
			calc(11 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--red),
			calc(0 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--skin),
			calc(1 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--skin),
			calc(2 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--red),
			calc(3 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--blue),
			calc(4 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--blue),
			calc(5 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--blue),
			calc(6 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--blue),
			calc(7 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--blue),
			calc(8 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--blue),
			calc(9 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--red),
			calc(10 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--skin),
			calc(11 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--skin),
			calc(0 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--skin),
			calc(1 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--skin),
			calc(2 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--skin),
			calc(3 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--blue),
			calc(4 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--blue),
			calc(5 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--yellow),
			calc(6 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--blue),
			calc(7 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--blue),
			calc(8 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--yellow),
			calc(9 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--blue),
			calc(10 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--skin),
			calc(11 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--skin),
			calc(3 * var(--pixel-size)) calc(11 * var(--pixel-size)) var(--blue),
			calc(4 * var(--pixel-size)) calc(11 * var(--pixel-size)) var(--blue),
			calc(5 * var(--pixel-size)) calc(11 * var(--pixel-size)) var(--blue),
			calc(6 * var(--pixel-size)) calc(11 * var(--pixel-size)) var(--blue),
			calc(7 * var(--pixel-size)) calc(11 * var(--pixel-size)) var(--blue),
			calc(8 * var(--pixel-size)) calc(11 * var(--pixel-size)) var(--blue),
			calc(2 * var(--pixel-size)) calc(12 * var(--pixel-size)) var(--blue),
			calc(3 * var(--pixel-size)) calc(12 * var(--pixel-size)) var(--blue),
			calc(4 * var(--pixel-size)) calc(12 * var(--pixel-size)) var(--blue),
			calc(7 * var(--pixel-size)) calc(12 * var(--pixel-size)) var(--blue),
			calc(8 * var(--pixel-size)) calc(12 * var(--pixel-size)) var(--blue),
			calc(9 * var(--pixel-size)) calc(12 * var(--pixel-size)) var(--blue),
			calc(1 * var(--pixel-size)) calc(13 * var(--pixel-size)) var(--brown),
			calc(2 * var(--pixel-size)) calc(13 * var(--pixel-size)) var(--brown),
			calc(3 * var(--pixel-size)) calc(13 * var(--pixel-size)) var(--brown),
			calc(8 * var(--pixel-size)) calc(13 * var(--pixel-size)) var(--brown),
			calc(9 * var(--pixel-size)) calc(13 * var(--pixel-size)) var(--brown),
			calc(10 * var(--pixel-size)) calc(13 * var(--pixel-size)) var(--brown),
			calc(0 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown),
			calc(1 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown),
			calc(2 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown),
			calc(3 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown),
			calc(8 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown),
			calc(9 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown),
			calc(10 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown),
			calc(11 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown);
	}

	/* =========================================
     2. 林克场景 (Link)
     ========================================= */
	.link-scene .link-ground {
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		height: 30px;
		background: linear-gradient(180deg, #5a9c5a 0%, #4a8c4a 100%);
	}
	.grass-patch {
		position: absolute;
		bottom: 26px;
		width: 0;
		height: 0;
		border-left: 6px solid transparent;
		border-right: 6px solid transparent;
		border-bottom: 12px solid #3d7c3d;
	}
	.grass-1 {
		left: 20px;
	}
	.grass-2 {
		left: 60px;
		border-bottom-color: #4a8c4a;
	}
	.grass-3 {
		right: 30px;
	}

	.pixel-link {
		--pixel-size: 6px;
		--green: #2e7d32;
		--green-light: #43a047;
		--skin: #ffcc99;
		--hair: #c9a227;
		--brown: #6b3e08;
		--brown-light: #8b5a2b;
		--white: #ffffff;
		--blue: #4fc3f7;
		position: absolute;
		bottom: 30px;
		left: 50%;
		transform: translateX(-50%);
		width: calc(12 * var(--pixel-size));
		height: calc(16 * var(--pixel-size));
		image-rendering: pixelated;
		background: transparent;
		transition: transform 0.1s;
		z-index: 3;
	}
	.pixel-link.attack {
		animation: link-attack 0.4s ease-out;
	}
	@keyframes link-attack {
		30% {
			transform: translateX(-50%) translateX(15px);
		}
	}
	/* 林克像素点 */
	.pixel-link::before {
		content: '';
		position: absolute;
		width: var(--pixel-size);
		height: var(--pixel-size);
		box-shadow:
			calc(8 * var(--pixel-size)) 0 var(--green),
			calc(9 * var(--pixel-size)) 0 var(--green),
			calc(9 * var(--pixel-size)) var(--pixel-size) var(--green),
			calc(10 * var(--pixel-size)) var(--pixel-size) var(--green),
			calc(10 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--green),
			calc(4 * var(--pixel-size)) var(--pixel-size) var(--green),
			calc(5 * var(--pixel-size)) var(--pixel-size) var(--green),
			calc(6 * var(--pixel-size)) var(--pixel-size) var(--green),
			calc(7 * var(--pixel-size)) var(--pixel-size) var(--green),
			calc(8 * var(--pixel-size)) var(--pixel-size) var(--green),
			calc(3 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--green),
			calc(4 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--green),
			calc(5 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--green-light),
			calc(6 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--green-light),
			calc(7 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--green),
			calc(8 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--green),
			calc(9 * var(--pixel-size)) calc(2 * var(--pixel-size)) var(--green),
			calc(3 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--hair),
			calc(4 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--hair),
			calc(5 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--skin),
			calc(6 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--skin),
			calc(7 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--skin),
			calc(8 * var(--pixel-size)) calc(3 * var(--pixel-size)) var(--hair),
			calc(2 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--skin),
			calc(3 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--hair),
			calc(4 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--skin),
			calc(5 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--blue),
			calc(6 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--skin),
			calc(7 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--blue),
			calc(8 * var(--pixel-size)) calc(4 * var(--pixel-size)) var(--skin),
			calc(3 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--skin),
			calc(4 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--skin),
			calc(5 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--skin),
			calc(6 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--skin),
			calc(7 * var(--pixel-size)) calc(5 * var(--pixel-size)) var(--skin),
			calc(3 * var(--pixel-size)) calc(6 * var(--pixel-size)) var(--green),
			calc(4 * var(--pixel-size)) calc(6 * var(--pixel-size)) var(--green),
			calc(5 * var(--pixel-size)) calc(6 * var(--pixel-size)) var(--green-light),
			calc(6 * var(--pixel-size)) calc(6 * var(--pixel-size)) var(--green-light),
			calc(7 * var(--pixel-size)) calc(6 * var(--pixel-size)) var(--green),
			calc(8 * var(--pixel-size)) calc(6 * var(--pixel-size)) var(--green),
			calc(1 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--skin),
			calc(2 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--green),
			calc(3 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--green),
			calc(4 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--green-light),
			calc(5 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--brown-light),
			calc(6 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--green-light),
			calc(7 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--green),
			calc(8 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--green),
			calc(9 * var(--pixel-size)) calc(7 * var(--pixel-size)) var(--skin),
			calc(0 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--brown),
			calc(1 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--skin),
			calc(2 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--green),
			calc(3 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--brown),
			calc(4 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--brown),
			calc(5 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--brown),
			calc(6 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--brown),
			calc(7 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--brown),
			calc(8 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--green),
			calc(9 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--skin),
			calc(10 * var(--pixel-size)) calc(8 * var(--pixel-size)) var(--white),
			calc(3 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--green),
			calc(4 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--green-light),
			calc(5 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--green-light),
			calc(6 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--green-light),
			calc(7 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--green),
			calc(10 * var(--pixel-size)) calc(9 * var(--pixel-size)) var(--white),
			calc(2 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--green),
			calc(3 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--green),
			calc(4 * var(--pixel-size)) calc(10 * var(--pixel-size))
				var(--green-light),
			calc(5 * var(--pixel-size)) calc(10 * var(--pixel-size))
				var(--green-light),
			calc(6 * var(--pixel-size)) calc(10 * var(--pixel-size))
				var(--green-light),
			calc(7 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--green),
			calc(8 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--green),
			calc(10 * var(--pixel-size)) calc(10 * var(--pixel-size)) var(--white),
			calc(3 * var(--pixel-size)) calc(11 * var(--pixel-size))
				var(--brown-light),
			calc(4 * var(--pixel-size)) calc(11 * var(--pixel-size)) var(--skin),
			calc(5 * var(--pixel-size)) calc(11 * var(--pixel-size)) var(--skin),
			calc(6 * var(--pixel-size)) calc(11 * var(--pixel-size)) var(--skin),
			calc(7 * var(--pixel-size)) calc(11 * var(--pixel-size))
				var(--brown-light),
			calc(10 * var(--pixel-size)) calc(11 * var(--pixel-size)) var(--white),
			calc(3 * var(--pixel-size)) calc(12 * var(--pixel-size))
				var(--brown-light),
			calc(4 * var(--pixel-size)) calc(12 * var(--pixel-size)) var(--skin),
			calc(6 * var(--pixel-size)) calc(12 * var(--pixel-size)) var(--skin),
			calc(7 * var(--pixel-size)) calc(12 * var(--pixel-size))
				var(--brown-light),
			calc(3 * var(--pixel-size)) calc(13 * var(--pixel-size)) var(--brown),
			calc(4 * var(--pixel-size)) calc(13 * var(--pixel-size)) var(--brown),
			calc(6 * var(--pixel-size)) calc(13 * var(--pixel-size)) var(--brown),
			calc(7 * var(--pixel-size)) calc(13 * var(--pixel-size)) var(--brown),
			calc(2 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown),
			calc(3 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown),
			calc(4 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown),
			calc(5 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown),
			calc(6 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown),
			calc(7 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown),
			calc(8 * var(--pixel-size)) calc(14 * var(--pixel-size)) var(--brown);
	}

	.sword-beam {
		position: absolute;
		bottom: 85px;
		left: 65%;
		width: 60px;
		height: 8px;
		background: linear-gradient(
			90deg,
			#81d4fa 0%,
			#4fc3f7 50%,
			transparent 100%
		);
		border-radius: 0 50% 50% 0;
		opacity: 0;
		pointer-events: none;
		filter: drop-shadow(0 0 4px #4fc3f7);
	}
	.sword-beam.animate {
		animation: sword-beam-fly 0.5s ease-out forwards;
	}
	@keyframes sword-beam-fly {
		50% {
			opacity: 1;
			transform: translateX(40px) scaleX(1.2);
		}
		100% {
			opacity: 0;
			transform: translateX(100px) scaleX(0.8);
		}
	}

	.link-triforce {
		position: absolute;
		top: 15px;
		right: 15px;
		width: 40px;
		height: 35px;
		opacity: 0.3;
		transition: opacity 0.3s;
	}
	.link-triforce.glow {
		animation: triforce-shine 0.8s ease-out;
	}
	@keyframes triforce-shine {
		50% {
			opacity: 1;
			filter: drop-shadow(0 0 10px #ffd700);
		}
	}
	.triforce-piece {
		position: absolute;
		width: 0;
		height: 0;
		border-left: 10px solid transparent;
		border-right: 10px solid transparent;
		border-bottom: 17px solid #ffd700;
	}
	.link-triforce .triforce-piece:nth-child(1) {
		top: 0;
		left: 50%;
		transform: translateX(-50%);
	}
	.link-triforce .triforce-piece:nth-child(2) {
		bottom: 0;
		left: 0;
	}
	.link-triforce .triforce-piece:nth-child(3) {
		bottom: 0;
		right: 0;
	}

	/* =========================================
     3. 星之卡比场景 (Kirby)
     ========================================= */
	.kirby-scene .kirby-ground {
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		height: 30px;
		background: repeating-linear-gradient(
			45deg,
			#f0f8ff 0px,
			#f0f8ff 10px,
			#e6f2ff 10px,
			#e6f2ff 20px
		);
		border-top: 4px solid #aaddff;
	}

	/* 像素云朵 */
	.pixel-cloud {
		position: absolute;
		background: white;
		border-radius: 10px;
		opacity: 0.8;
	}
	.pixel-cloud::after {
		content: '';
		position: absolute;
		background: white;
		border-radius: 50%;
	}
	.cloud-1 {
		top: 20px;
		left: 20px;
		width: 40px;
		height: 16px;
		animation: float-cloud 4s ease-in-out infinite;
	}
	.cloud-1::after {
		top: -10px;
		left: 8px;
		width: 20px;
		height: 20px;
	}
	.cloud-2 {
		top: 50px;
		right: 30px;
		width: 30px;
		height: 12px;
		animation: float-cloud 5s ease-in-out infinite reverse;
	}
	.cloud-2::after {
		top: -6px;
		left: 6px;
		width: 14px;
		height: 14px;
	}
	@keyframes float-cloud {
		0%,
		100% {
			transform: translateY(0);
		}
		50% {
			transform: translateY(-5px);
		}
	}

	/* 卡比像素画 */
	.pixel-kirby {
		--p: 6px;
		--pink: #ffb7c5;
		--dark-pink: #f095a8;
		--red: #e62e2e;
		--eye: #000;
		position: absolute;
		bottom: 30px;
		left: 50%;
		transform: translateX(-50%);
		width: calc(14 * var(--p));
		height: calc(12 * var(--p));
		image-rendering: pixelated;
		transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.27);
		z-index: 3;
	}
	.pixel-kirby::before {
		content: '';
		position: absolute;
		width: var(--p);
		height: var(--p);
		box-shadow:
      /* 身体 (粉色圆形) - 简化版像素画 */
			calc(4 * var(--p)) 0 var(--pink),
			calc(5 * var(--p)) 0 var(--pink),
			calc(6 * var(--p)) 0 var(--pink),
			calc(7 * var(--p)) 0 var(--pink),
			calc(8 * var(--p)) 0 var(--pink),
			calc(9 * var(--p)) 0 var(--pink),
			calc(2 * var(--p)) var(--p) var(--pink),
			calc(3 * var(--p)) var(--p) var(--pink),
			calc(4 * var(--p)) var(--p) var(--pink),
			calc(5 * var(--p)) var(--p) var(--pink),
			calc(6 * var(--p)) var(--p) var(--pink),
			calc(7 * var(--p)) var(--p) var(--pink),
			calc(8 * var(--p)) var(--p) var(--pink),
			calc(9 * var(--p)) var(--p) var(--pink),
			calc(10 * var(--p)) var(--p) var(--pink),
			calc(11 * var(--p)) var(--p) var(--pink),
			calc(1 * var(--p)) calc(2 * var(--p)) var(--pink),
			calc(2 * var(--p)) calc(2 * var(--p)) var(--pink),
			calc(11 * var(--p)) calc(2 * var(--p)) var(--pink),
			calc(12 * var(--p)) calc(2 * var(--p)) var(--pink),
			calc(0 * var(--p)) calc(3 * var(--p)) var(--pink),
			calc(1 * var(--p)) calc(3 * var(--p)) var(--pink),
			calc(6 * var(--p)) calc(3 * var(--p)) var(--eye),
			calc(8 * var(--p)) calc(3 * var(--p)) var(--eye),
			calc(12 * var(--p)) calc(3 * var(--p)) var(--pink),
			calc(13 * var(--p)) calc(3 * var(--p)) var(--pink),
			calc(0 * var(--p)) calc(4 * var(--p)) var(--pink),
			calc(6 * var(--p)) calc(4 * var(--p)) var(--eye),
			calc(8 * var(--p)) calc(4 * var(--p)) var(--eye),
			calc(13 * var(--p)) calc(4 * var(--p)) var(--pink),
			calc(0 * var(--p)) calc(5 * var(--p)) var(--pink),
			calc(2 * var(--p)) calc(5 * var(--p)) var(--dark-pink),
			calc(11 * var(--p)) calc(5 * var(--p)) var(--dark-pink),
			calc(13 * var(--p)) calc(5 * var(--p)) var(--pink),
			calc(0 * var(--p)) calc(6 * var(--p)) var(--pink),
			calc(13 * var(--p)) calc(6 * var(--p)) var(--pink),
			calc(0 * var(--p)) calc(7 * var(--p)) var(--pink),
			calc(13 * var(--p)) calc(7 * var(--p)) var(--pink),
			calc(1 * var(--p)) calc(8 * var(--p)) var(--pink),
			calc(12 * var(--p)) calc(8 * var(--p)) var(--pink),
			/* 手 */ calc(1 * var(--p)) calc(5 * var(--p)) var(--pink),
			calc(12 * var(--p)) calc(5 * var(--p)) var(--pink),
			/* 脚 (红色) */ calc(1 * var(--p)) calc(9 * var(--p)) var(--red),
			calc(2 * var(--p)) calc(9 * var(--p)) var(--red),
			calc(3 * var(--p)) calc(9 * var(--p)) var(--red),
			calc(9 * var(--p)) calc(9 * var(--p)) var(--red),
			calc(10 * var(--p)) calc(9 * var(--p)) var(--red),
			calc(0 * var(--p)) calc(10 * var(--p)) var(--red),
			calc(1 * var(--p)) calc(10 * var(--p)) var(--red),
			calc(2 * var(--p)) calc(10 * var(--p)) var(--red),
			calc(3 * var(--p)) calc(10 * var(--p)) var(--red),
			calc(9 * var(--p)) calc(10 * var(--p)) var(--red),
			calc(10 * var(--p)) calc(10 * var(--p)) var(--red),
			calc(11 * var(--p)) calc(10 * var(--p)) var(--red),
			calc(0 * var(--p)) calc(11 * var(--p)) var(--red),
			calc(1 * var(--p)) calc(11 * var(--p)) var(--red),
			calc(2 * var(--p)) calc(11 * var(--p)) var(--red),
			calc(10 * var(--p)) calc(11 * var(--p)) var(--red),
			calc(11 * var(--p)) calc(11 * var(--p)) var(--red);
	}

	/* 腮红 */
	.kirby-cheek {
		position: absolute;
		width: 6px;
		height: 3px;
		background: #f095a8;
		top: 32px;
	}
	.kirby-cheek.left {
		left: 18px;
	}
	.kirby-cheek.right {
		right: 18px;
	}

	/* 动画状态 */
	.pixel-kirby.fly {
		transform: translateX(-50%) translateY(-60px) scale(1.1);
	}

	/* 吸气特效 */
	.inhale-effect {
		position: absolute;
		top: 50%;
		left: 40%;
		width: 10px;
		height: 10px;
		border-radius: 50%;
		border: 2px solid rgba(0, 0, 0, 0.1);
		opacity: 0;
		pointer-events: none;
	}
	.inhale-effect.active {
		animation: inhale 0.4s ease-in forwards;
	}
	@keyframes inhale {
		0% {
			opacity: 0;
			transform: scale(1) translateX(0);
		}
		50% {
			opacity: 0.5;
			transform: scale(3) translateX(-20px);
		}
		100% {
			opacity: 0;
			transform: scale(0.5) translateX(-10px);
		}
	}

	/* 吐出的星星 */
	.pop-star {
		position: absolute;
		bottom: 70px;
		left: 50%;
		width: 12px;
		height: 12px;
		background: #ffd700;
		clip-path: polygon(
			50% 0%,
			61% 35%,
			98% 35%,
			68% 57%,
			79% 91%,
			50% 70%,
			21% 91%,
			32% 57%,
			2% 35%,
			39% 35%
		);
		opacity: 0;
		pointer-events: none;
		transform: translateX(-50%);
	}
	.pop-star.animate {
		animation: star-pop 0.6s ease-out forwards;
	}
	@keyframes star-pop {
		0% {
			opacity: 1;
			transform: translateX(-50%) scale(0);
		}
		100% {
			opacity: 0;
			transform: translateX(-50%) translateY(40px) scale(2) rotate(180deg);
		}
	}
	/* =========================================
     4. 动物森友会场景 (Isabelle)
     ========================================= */
	.ac-scene .ac-ground {
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		height: 30px;
		background: #78ac58;
		overflow: hidden;
	}
	.grass-triangle {
		position: absolute;
		width: 0;
		height: 0;
		border-left: 8px solid transparent;
		border-right: 8px solid transparent;
		border-bottom: 12px solid #95c875;
	}
	.t1 {
		left: 20%;
		bottom: 10px;
	}
	.t2 {
		left: 50%;
		bottom: 5px;
	}
	.t3 {
		right: 20%;
		bottom: 12px;
	}

	/* 背景 Nook 叶子 */
	.nook-leaf-bg {
		--p: 4px;
		--l: #95c875;
		position: absolute;
		top: 20px;
		right: 20px;
		width: calc(8 * var(--p));
		height: calc(8 * var(--p));
		opacity: 0.3;
	}
	.nook-leaf-bg::before {
		content: '';
		position: absolute;
		width: var(--p);
		height: var(--p);
		box-shadow:
			calc(3 * var(--p)) 0 var(--l),
			calc(4 * var(--p)) 0 var(--l),
			calc(2 * var(--p)) var(--p) var(--l),
			calc(5 * var(--p)) var(--p) var(--l),
			calc(6 * var(--p)) var(--p) var(--l),
			calc(1 * var(--p)) calc(2 * var(--p)) var(--l),
			calc(4 * var(--p)) calc(2 * var(--p)) var(--l),
			calc(7 * var(--p)) calc(2 * var(--p)) var(--l),
			calc(1 * var(--p)) calc(3 * var(--p)) var(--l),
			calc(3 * var(--p)) calc(3 * var(--p)) var(--l),
			calc(7 * var(--p)) calc(3 * var(--p)) var(--l),
			calc(2 * var(--p)) calc(4 * var(--p)) var(--l),
			calc(6 * var(--p)) calc(4 * var(--p)) var(--l),
			calc(3 * var(--p)) calc(5 * var(--p)) var(--l),
			calc(4 * var(--p)) calc(5 * var(--p)) var(--l),
			calc(5 * var(--p)) calc(5 * var(--p)) var(--l),
			calc(4 * var(--p)) calc(6 * var(--p)) var(--l),
			calc(4 * var(--p)) calc(7 * var(--p)) var(--l);
	}

	/* 西施惠像素画 */
	.pixel-isabelle {
		--p: 5px; /* 像素大小 */
		--yellow: #fada5e;
		--cream: #fff8e7;
		--brown: #8c6239;
		--green: #68b046;
		--dark: #4a3b2a;
		--red: #e62e2e;
		position: absolute;
		bottom: 28px;
		left: 50%;
		transform: translateX(-50%);
		width: calc(14 * var(--p));
		height: calc(18 * var(--p));
		image-rendering: pixelated;
		z-index: 3;
		animation: isabelle-idle 2s ease-in-out infinite;
	}
	/* 闲置呼吸动画 */
	@keyframes isabelle-idle {
		0%,
		100% {
			transform: translateX(-50%) translateY(0);
		}
		50% {
			transform: translateX(-50%) translateY(2px);
		}
	}

	/* 互动时的庆祝动作 */
	.pixel-isabelle.celebrating {
		animation: isabelle-jump 0.6s ease-out;
	}
	@keyframes isabelle-jump {
		0%,
		100% {
			transform: translateX(-50%) translateY(0) scale(1);
		}
		20% {
			transform: translateX(-50%) translateY(4px) scale(1.05, 0.95);
		} /* 蓄力 */
		50% {
			transform: translateX(-50%) translateY(-20px) scale(0.95, 1.05);
		} /* 跳起 */
		80% {
			transform: translateX(-50%) translateY(0) scale(1.02, 0.98);
		} /* 落地弹性 */
	}

	.pixel-isabelle::before {
		content: '';
		position: absolute;
		width: var(--p);
		height: var(--p);
		box-shadow:
      /* 耳朵 (棕色) */
			calc(1 * var(--p)) calc(2 * var(--p)) var(--brown),
			calc(2 * var(--p)) calc(1 * var(--p)) var(--brown),
			calc(3 * var(--p)) calc(1 * var(--p)) var(--brown),
			calc(4 * var(--p)) calc(2 * var(--p)) var(--brown),
			calc(9 * var(--p)) calc(2 * var(--p)) var(--brown),
			calc(10 * var(--p)) calc(1 * var(--p)) var(--brown),
			calc(11 * var(--p)) calc(1 * var(--p)) var(--brown),
			calc(12 * var(--p)) calc(2 * var(--p)) var(--brown),
			calc(0 * var(--p)) calc(3 * var(--p)) var(--brown),
			calc(0 * var(--p)) calc(4 * var(--p)) var(--brown),
			calc(1 * var(--p)) calc(5 * var(--p)) var(--brown),
			calc(13 * var(--p)) calc(3 * var(--p)) var(--brown),
			calc(13 * var(--p)) calc(4 * var(--p)) var(--brown),
			calc(12 * var(--p)) calc(5 * var(--p)) var(--brown),
			/* 头顶毛发 (黄色) */ calc(5 * var(--p)) 0 var(--yellow),
			calc(6 * var(--p)) 0 var(--yellow),
			calc(7 * var(--p)) 0 var(--yellow),
			calc(8 * var(--p)) 0 var(--yellow),
			calc(4 * var(--p)) calc(1 * var(--p)) var(--yellow),
			calc(9 * var(--p)) calc(1 * var(--p)) var(--yellow),
			/* 脸部底色 (黄色) */ calc(3 * var(--p)) calc(2 * var(--p)) var(--yellow),
			calc(4 * var(--p)) calc(2 * var(--p)) var(--yellow),
			calc(5 * var(--p)) calc(2 * var(--p)) var(--yellow),
			calc(6 * var(--p)) calc(2 * var(--p)) var(--yellow),
			calc(7 * var(--p)) calc(2 * var(--p)) var(--yellow),
			calc(8 * var(--p)) calc(2 * var(--p)) var(--yellow),
			calc(9 * var(--p)) calc(2 * var(--p)) var(--yellow),
			calc(10 * var(--p)) calc(2 * var(--p)) var(--yellow),
			calc(2 * var(--p)) calc(3 * var(--p)) var(--yellow),
			calc(11 * var(--p)) calc(3 * var(--p)) var(--yellow),
			/* 眼睛和鼻子区域 (奶油色) */ calc(3 * var(--p)) calc(3 * var(--p))
				var(--cream),
			calc(4 * var(--p)) calc(3 * var(--p)) var(--cream),
			calc(5 * var(--p)) calc(3 * var(--p)) var(--cream),
			calc(6 * var(--p)) calc(3 * var(--p)) var(--cream),
			calc(7 * var(--p)) calc(3 * var(--p)) var(--cream),
			calc(8 * var(--p)) calc(3 * var(--p)) var(--cream),
			calc(9 * var(--p)) calc(3 * var(--p)) var(--cream),
			calc(10 * var(--p)) calc(3 * var(--p)) var(--cream),
			calc(2 * var(--p)) calc(4 * var(--p)) var(--cream),
			calc(11 * var(--p)) calc(4 * var(--p)) var(--cream),
			calc(2 * var(--p)) calc(5 * var(--p)) var(--cream),
			calc(11 * var(--p)) calc(5 * var(--p)) var(--cream),
			calc(3 * var(--p)) calc(6 * var(--p)) var(--cream),
			calc(4 * var(--p)) calc(6 * var(--p)) var(--cream),
			calc(5 * var(--p)) calc(6 * var(--p)) var(--cream),
			calc(6 * var(--p)) calc(6 * var(--p)) var(--cream),
			calc(7 * var(--p)) calc(6 * var(--p)) var(--cream),
			calc(8 * var(--p)) calc(6 * var(--p)) var(--cream),
			calc(9 * var(--p)) calc(6 * var(--p)) var(--cream),
			calc(10 * var(--p)) calc(6 * var(--p)) var(--cream),
			/* 眼睛和鼻子 (深色) */ calc(4 * var(--p)) calc(4 * var(--p)) var(--dark),
			calc(9 * var(--p)) calc(4 * var(--p)) var(--dark),
			calc(6 * var(--p)) calc(5 * var(--p)) var(--dark),
			calc(7 * var(--p)) calc(5 * var(--p)) var(--dark),
			/* 腮红 (粉色/深色虚化) */ calc(3 * var(--p)) calc(5 * var(--p)) #f0a0a0,
			calc(10 * var(--p)) calc(5 * var(--p)) #f0a0a0,
			/* 微笑嘴巴 */ calc(6 * var(--p)) calc(7 * var(--p)) var(--dark),
			calc(7 * var(--p)) calc(7 * var(--p)) var(--dark),
			/* 身体/背心 (绿色) */ calc(4 * var(--p)) calc(8 * var(--p)) var(--green),
			calc(5 * var(--p)) calc(8 * var(--p)) var(--green),
			calc(6 * var(--p)) calc(8 * var(--p)) var(--cream),
			calc(7 * var(--p)) calc(8 * var(--p)) var(--cream),
			calc(8 * var(--p)) calc(8 * var(--p)) var(--green),
			calc(9 * var(--p)) calc(8 * var(--p)) var(--green),
			calc(3 * var(--p)) calc(9 * var(--p)) var(--green),
			calc(10 * var(--p)) calc(9 * var(--p)) var(--green),
			calc(3 * var(--p)) calc(10 * var(--p)) var(--green),
			calc(4 * var(--p)) calc(10 * var(--p)) var(--green),
			calc(5 * var(--p)) calc(10 * var(--p)) var(--green),
			calc(6 * var(--p)) calc(10 * var(--p)) var(--green),
			calc(7 * var(--p)) calc(10 * var(--p)) var(--green),
			calc(8 * var(--p)) calc(10 * var(--p)) var(--green),
			calc(9 * var(--p)) calc(10 * var(--p)) var(--green),
			calc(10 * var(--p)) calc(10 * var(--p)) var(--green),
			calc(3 * var(--p)) calc(11 * var(--p)) var(--green),
			calc(10 * var(--p)) calc(11 * var(--p)) var(--green),
			calc(3 * var(--p)) calc(12 * var(--p)) var(--green),
			calc(4 * var(--p)) calc(12 * var(--p)) var(--green),
			calc(5 * var(--p)) calc(12 * var(--p)) var(--green),
			calc(6 * var(--p)) calc(12 * var(--p)) var(--green),
			calc(7 * var(--p)) calc(12 * var(--p)) var(--green),
			calc(8 * var(--p)) calc(12 * var(--p)) var(--green),
			calc(9 * var(--p)) calc(12 * var(--p)) var(--green),
			calc(10 * var(--p)) calc(12 * var(--p)) var(--green),
			/* 裙子 (深棕色) */ calc(4 * var(--p)) calc(13 * var(--p)) var(--dark),
			calc(5 * var(--p)) calc(13 * var(--p)) var(--dark),
			calc(6 * var(--p)) calc(13 * var(--p)) var(--dark),
			calc(7 * var(--p)) calc(13 * var(--p)) var(--dark),
			calc(8 * var(--p)) calc(13 * var(--p)) var(--dark),
			calc(9 * var(--p)) calc(13 * var(--p)) var(--dark),
			calc(3 * var(--p)) calc(14 * var(--p)) var(--dark),
			calc(10 * var(--p)) calc(14 * var(--p)) var(--dark),
			calc(3 * var(--p)) calc(15 * var(--p)) var(--dark),
			calc(10 * var(--p)) calc(15 * var(--p)) var(--dark),
			/* 手和脚 (黄色/奶油色) */ calc(2 * var(--p)) calc(10 * var(--p))
				var(--yellow),
			calc(2 * var(--p)) calc(11 * var(--p)) var(--yellow),
			/* 左手 */ calc(11 * var(--p)) calc(10 * var(--p)) var(--yellow),
			calc(11 * var(--p)) calc(11 * var(--p)) var(--yellow),
			/* 右手 */ calc(4 * var(--p)) calc(16 * var(--p)) var(--cream),
			calc(5 * var(--p)) calc(16 * var(--p)) var(--cream),
			/* 左脚 */ calc(8 * var(--p)) calc(16 * var(--p)) var(--cream),
			calc(9 * var(--p)) calc(16 * var(--p)) var(--cream),
			/* 右脚 */ calc(4 * var(--p)) calc(17 * var(--p)) var(--dark),
			calc(5 * var(--p)) calc(17 * var(--p)) var(--dark),
			/* 左鞋 */ calc(8 * var(--p)) calc(17 * var(--p)) var(--dark),
			calc(9 * var(--p)) calc(17 * var(--p)) var(--dark); /* 右鞋 */
	}

	/* 头上的铃铛/发圈 */
	.hair-bell {
		--p: 5px;
		--red: #e62e2e;
		--gold: #ffd700;
		position: absolute;
		top: calc(-2 * var(--p));
		left: calc(6 * var(--p));
		width: var(--p);
		height: var(--p);
		box-shadow:
			var(--p) 0 var(--red),
			calc(2 * var(--p)) 0 var(--red),
			0 var(--p) var(--red),
			calc(3 * var(--p)) var(--p) var(--red),
			var(--p) calc(2 * var(--p)) var(--red),
			calc(2 * var(--p)) calc(2 * var(--p)) var(--gold);
	}

	/* 庆祝特效容器 */
	.celebrate-effects {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		pointer-events: none;
	}
	/* 通用特效元素 */
	.sparkle,
	.flower {
		position: absolute;
		opacity: 0;
	}

	/* 星星闪烁 */
	.sparkle {
		width: 8px;
		height: 8px;
		background: #ffd700;
		clip-path: polygon(
			50% 0%,
			61% 35%,
			98% 35%,
			68% 57%,
			79% 91%,
			50% 70%,
			21% 91%,
			32% 57%,
			2% 35%,
			39% 35%
		);
	}
	.s1 {
		top: 20px;
		left: 20%;
		--dest-y: -30px;
		--dest-x: -20px;
	}
	.s2 {
		top: 10px;
		left: 50%;
		--dest-y: -40px;
		--dest-x: 0px;
	}
	.s3 {
		top: 25px;
		right: 25%;
		--dest-y: -25px;
		--dest-x: 25px;
	}

	/* 花朵 */
	.flower {
		width: 10px;
		height: 10px;
		background: pink;
		border-radius: 50%;
		box-shadow: 0 0 0 2px #ff69b4;
	}
	.flower::after {
		content: '';
		position: absolute;
		top: 50%;
		left: 50%;
		width: 4px;
		height: 4px;
		background: yellow;
		border-radius: 50%;
		transform: translate(-50%, -50%);
	}
	.f1 {
		top: 40px;
		left: 15%;
		--dest-y: -20px;
		--dest-x: -30px;
	}
	.f2 {
		top: 35px;
		right: 15%;
		--dest-y: -25px;
		--dest-x: 30px;
	}

	/* 触发动画 */
	.ac-scene.active .sparkle,
	.ac-scene.active .flower {
		animation: pop-effect 0.8s ease-out forwards;
	}
	.ac-scene.active .s2 {
		animation-delay: 0.1s;
	}
	.ac-scene.active .s3,
	.ac-scene.active .f2 {
		animation-delay: 0.2s;
	}

	@keyframes pop-effect {
		0% {
			opacity: 1;
			transform: translate(0, 0) scale(0.5) rotate(0deg);
		}
		100% {
			opacity: 0;
			transform: translate(var(--dest-x), var(--dest-y)) scale(1.2)
				rotate(180deg);
		}
	}
	/* =========================================
     4. 动物森友会场景 (Animal Crossing)
     ========================================= */
	.ac-scene .ac-ground {
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		height: 30px;
		background: #78ac58;
		overflow: hidden;
	}
	/* 动森经典的三角形草地纹理 */
	.grass-triangle {
		position: absolute;
		width: 0;
		height: 0;
		border-left: 8px solid transparent;
		border-right: 8px solid transparent;
		border-bottom: 12px solid #95c875;
	}
	.t1 {
		left: 20%;
		bottom: 10px;
	}
	.t2 {
		left: 50%;
		bottom: 5px;
	}
	.t3 {
		right: 20%;
		bottom: 12px;
	}

	/* 灌木 */
	.pixel-shrub {
		--p: 5px;
		--g1: #508c36;
		--g2: #65a342;
		position: absolute;
		bottom: 20px;
		right: 20px;
		width: calc(8 * var(--p));
		height: calc(6 * var(--p));
		image-rendering: pixelated;
	}
	.pixel-shrub::before {
		content: '';
		position: absolute;
		width: var(--p);
		height: var(--p);
		box-shadow:
			calc(2 * var(--p)) 0 var(--g1),
			calc(3 * var(--p)) 0 var(--g1),
			calc(4 * var(--p)) 0 var(--g1),
			calc(5 * var(--p)) 0 var(--g1),
			calc(1 * var(--p)) var(--p) var(--g1),
			calc(6 * var(--p)) var(--p) var(--g1),
			calc(0 * var(--p)) calc(2 * var(--p)) var(--g1),
			calc(7 * var(--p)) calc(2 * var(--p)) var(--g1),
			calc(0 * var(--p)) calc(3 * var(--p)) var(--g2),
			calc(7 * var(--p)) calc(3 * var(--p)) var(--g2),
			calc(1 * var(--p)) calc(4 * var(--p)) var(--g2),
			calc(6 * var(--p)) calc(4 * var(--p)) var(--g2),
			calc(2 * var(--p)) calc(5 * var(--p)) var(--g2),
			calc(3 * var(--p)) calc(5 * var(--p)) var(--g2),
			calc(4 * var(--p)) calc(5 * var(--p)) var(--g2),
			calc(5 * var(--p)) calc(5 * var(--p)) var(--g2);
	}

	/* 气球容器 */
	.balloon-container {
		position: absolute;
		top: 40px;
		left: 50%;
		transform: translateX(-50%);
		animation: balloon-float 3s ease-in-out infinite;
		z-index: 5;
		transition:
			transform 0.2s,
			opacity 0.2s;
	}
	.balloon-container.pop {
		transform: translateX(-50%) scale(1.5);
		opacity: 0;
	}

	@keyframes balloon-float {
		0%,
		100% {
			top: 40px;
		}
		50% {
			top: 30px;
		}
	}

	/* 像素气球 */
	.pixel-balloon {
		--p: 4px;
		--red: #ff5555;
		--hl: #ffaaaa;
		width: calc(10 * var(--p));
		height: calc(10 * var(--p));
		position: relative;
		left: -2px; /* Center adjustment */
	}
	.pixel-balloon::before {
		content: '';
		position: absolute;
		width: var(--p);
		height: var(--p);
		box-shadow:
			calc(3 * var(--p)) 0 var(--red),
			calc(4 * var(--p)) 0 var(--red),
			calc(5 * var(--p)) 0 var(--red),
			calc(6 * var(--p)) 0 var(--red),
			calc(2 * var(--p)) var(--p) var(--red),
			calc(7 * var(--p)) var(--p) var(--red),
			calc(8 * var(--p)) var(--p) var(--hl),
			calc(1 * var(--p)) calc(2 * var(--p)) var(--red),
			calc(8 * var(--p)) calc(2 * var(--p)) var(--red),
			calc(0 * var(--p)) calc(3 * var(--p)) var(--red),
			calc(9 * var(--p)) calc(3 * var(--p)) var(--red),
			calc(0 * var(--p)) calc(4 * var(--p)) var(--red),
			calc(9 * var(--p)) calc(4 * var(--p)) var(--red),
			calc(1 * var(--p)) calc(5 * var(--p)) var(--red),
			calc(8 * var(--p)) calc(5 * var(--p)) var(--red),
			calc(2 * var(--p)) calc(6 * var(--p)) var(--red),
			calc(7 * var(--p)) calc(6 * var(--p)) var(--red),
			calc(3 * var(--p)) calc(7 * var(--p)) var(--red),
			calc(6 * var(--p)) calc(7 * var(--p)) var(--red),
			calc(4 * var(--p)) calc(8 * var(--p)) var(--red),
			calc(5 * var(--p)) calc(8 * var(--p)) var(--red);
	}
	.balloon-string {
		position: absolute;
		top: 36px;
		left: 50%;
		width: 2px;
		height: 16px;
		background: #888;
		transform: translateX(-50%);
	}
	.pixel-present {
		--p: 4px;
		--w: #fff;
		--r: #e62e2e;
		position: absolute;
		top: 52px;
		left: 50%;
		transform: translateX(-50%);
		width: calc(8 * var(--p));
		height: calc(8 * var(--p));
	}
	.pixel-present::before {
		content: '';
		position: absolute;
		width: var(--p);
		height: var(--p);
		box-shadow:
      /* 盒子白色背景 */
			calc(0 * var(--p)) 0 var(--w),
			calc(1 * var(--p)) 0 var(--w),
			calc(2 * var(--p)) 0 var(--w),
			calc(3 * var(--p)) 0 var(--r),
			calc(4 * var(--p)) 0 var(--r),
			calc(5 * var(--p)) 0 var(--w),
			calc(6 * var(--p)) 0 var(--w),
			calc(7 * var(--p)) 0 var(--w),
			calc(0 * var(--p)) var(--p) var(--w),
			calc(3 * var(--p)) var(--p) var(--r),
			calc(4 * var(--p)) var(--p) var(--r),
			calc(7 * var(--p)) var(--p) var(--w),
			calc(0 * var(--p)) calc(2 * var(--p)) var(--w),
			calc(1 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(2 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(3 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(4 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(5 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(6 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(7 * var(--p)) calc(2 * var(--p)) var(--w),
			calc(0 * var(--p)) calc(3 * var(--p)) var(--r),
			calc(7 * var(--p)) calc(3 * var(--p)) var(--r),
			calc(0 * var(--p)) calc(4 * var(--p)) var(--w),
			calc(3 * var(--p)) calc(4 * var(--p)) var(--r),
			calc(4 * var(--p)) calc(4 * var(--p)) var(--r),
			calc(7 * var(--p)) calc(4 * var(--p)) var(--w),
			calc(0 * var(--p)) calc(5 * var(--p)) var(--w),
			calc(3 * var(--p)) calc(5 * var(--p)) var(--r),
			calc(4 * var(--p)) calc(5 * var(--p)) var(--r),
			calc(7 * var(--p)) calc(5 * var(--p)) var(--w);
	}

	/* 掉在地上的礼物 */
	.ground-present {
		--p: 4px;
		--w: #fff;
		--r: #e62e2e;
		position: absolute;
		bottom: 30px;
		left: 50%;
		transform: translateX(-50%);
		width: calc(8 * var(--p));
		height: calc(6 * var(--p));
		opacity: 0;
	}
	.ground-present.drop {
		animation: present-drop 0.5s cubic-bezier(0.5, 0, 0.8, 1) forwards;
	}
	@keyframes present-drop {
		0% {
			opacity: 1;
			transform: translateX(-50%) translateY(-100px);
		}
		60% {
			transform: translateX(-50%) translateY(0);
		}
		80% {
			transform: translateX(-50%) translateY(-10px);
		}
		100% {
			opacity: 1;
			transform: translateX(-50%) translateY(0);
		}
	}
	.ground-present::before {
		content: '';
		position: absolute;
		width: var(--p);
		height: var(--p);
		box-shadow: 
      /* 简单的礼物形状 */
			calc(0 * var(--p)) 0 var(--w),
			calc(3 * var(--p)) 0 var(--r),
			calc(4 * var(--p)) 0 var(--r),
			calc(7 * var(--p)) 0 var(--w),
			calc(0 * var(--p)) var(--p) var(--w),
			calc(3 * var(--p)) var(--p) var(--r),
			calc(4 * var(--p)) var(--p) var(--r),
			calc(7 * var(--p)) var(--p) var(--w),
			calc(0 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(1 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(2 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(3 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(4 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(5 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(6 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(7 * var(--p)) calc(2 * var(--p)) var(--r),
			calc(0 * var(--p)) calc(3 * var(--p)) var(--w),
			calc(3 * var(--p)) calc(3 * var(--p)) var(--r),
			calc(4 * var(--p)) calc(3 * var(--p)) var(--r),
			calc(7 * var(--p)) calc(3 * var(--p)) var(--w),
			calc(0 * var(--p)) calc(4 * var(--p)) var(--w),
			calc(3 * var(--p)) calc(4 * var(--p)) var(--r),
			calc(4 * var(--p)) calc(4 * var(--p)) var(--r),
			calc(7 * var(--p)) calc(4 * var(--p)) var(--w);
	}
</style>

<script>
	// 1. 马里奥逻辑
	const gameScene = document.getElementById('mario-game')
	const mario = document.getElementById('pixel-mario')
	const block = document.getElementById('game-block')
	const coin = document.getElementById('popup-coin')
	const mushroom = document.getElementById('popup-mushroom')
	const hint = document.getElementById('mario-hint')
	let isAnimating = false
	let hitCount = 0

	gameScene?.addEventListener('click', () => {
		if (isAnimating) return
		isAnimating = true
		coin?.classList.remove('animate')
		mushroom?.classList.remove('animate', 'walk')
		void coin?.offsetWidth
		void mushroom?.offsetWidth
		mario?.classList.add('jump')
		setTimeout(() => {
			block?.classList.add('hit')
			coin?.classList.add('animate')
			mushroom?.classList.add('animate')
			hitCount++
			if (hint) {
				hint.textContent = `1-UP! x${hitCount}`
				hint.style.opacity = '1'
			}
		}, 200)
		setTimeout(() => {
			mushroom?.classList.add('walk')
		}, 800)
		setTimeout(() => {
			mario?.classList.remove('jump')
			block?.classList.remove('hit')
		}, 500)
		setTimeout(() => {
			isAnimating = false
		}, 600)
	})

	// 2. 林克逻辑
	const linkScene = document.getElementById('link-scene')
	const link = document.getElementById('pixel-link')
	const swordBeam = document.getElementById('sword-beam')
	const linkTriforce = document.getElementById('link-triforce')
	const linkHint = document.getElementById('link-hint')
	let isLinkAnimating = false
	let attackCount = 0

	linkScene?.addEventListener('click', () => {
		if (isLinkAnimating) return
		isLinkAnimating = true
		swordBeam?.classList.remove('animate')
		linkTriforce?.classList.remove('glow')
		void swordBeam?.offsetWidth
		void linkTriforce?.offsetWidth
		link?.classList.add('attack')
		setTimeout(() => {
			swordBeam?.classList.add('animate')
		}, 100)
		setTimeout(() => {
			linkTriforce?.classList.add('glow')
		}, 200)
		attackCount++
		if (linkHint) {
			const messages = ['Hyaaa!', 'Take this!', 'Hiyaaa!', 'Sei!']
			linkHint.textContent = `${messages[attackCount % messages.length]} x${attackCount}`
		}
		setTimeout(() => {
			link?.classList.remove('attack')
		}, 400)
		setTimeout(() => {
			isLinkAnimating = false
		}, 500)
	})

	// 3. 卡比逻辑
	const kirbyScene = document.getElementById('kirby-scene')
	const kirby = document.getElementById('pixel-kirby')
	const inhale = document.getElementById('inhale-effect')
	const popStar = document.getElementById('pop-star')
	const kirbyHint = document.getElementById('kirby-hint')
	let isKirbyAnimating = false

	kirbyScene?.addEventListener('click', () => {
		if (isKirbyAnimating) return
		isKirbyAnimating = true

		// 重置
		inhale?.classList.remove('active')
		popStar?.classList.remove('animate')
		void inhale?.offsetWidth

		// 动作开始
		kirbyHint!.textContent = 'Poyo!'

		// 吸气
		inhale?.classList.add('active')

		// 飞起
		setTimeout(() => {
			kirby?.classList.add('fly')
		}, 200)

		// 吐星星
		setTimeout(() => {
			popStar?.classList.add('animate')
		}, 400)

		// 复原
		setTimeout(() => {
			kirby?.classList.remove('fly')
			isKirbyAnimating = false
			setTimeout(() => {
				kirbyHint!.textContent = 'Click to float!'
			}, 1000)
		}, 1200)
	})

	// 4. 动物森友会逻辑
	// 4. 动物森友会逻辑 (Isabelle)
	const acScene = document.getElementById('ac-scene')
	const isabelle = document.getElementById('pixel-isabelle')
	const acHint = document.getElementById('ac-hint')
	let isAcAnimating = false

	acScene?.addEventListener('click', () => {
		if (isAcAnimating) return
		isAcAnimating = true

		// 重置状态 (移除之前的动画类以允许重新触发)
		acScene.classList.remove('active')
		isabelle?.classList.remove('celebrating')
		// 强制回流
		void acScene.offsetWidth

		// 开始动画
		acScene.classList.add('active') // 触发背景特效
		isabelle?.classList.add('celebrating') // 触发西施惠跳跃

		// 更新提示文字
		if (acHint) {
			const greetings = ['Hello!', 'Welcome!', 'Yay!', 'Happy day!']
			acHint.textContent =
				greetings[Math.floor(Math.random() * greetings.length)]
		}

		// 动画结束后恢复状态
		setTimeout(() => {
			isAcAnimating = false
			// 可选：在一段时间后恢复默认提示语
			setTimeout(() => {
				if (acHint && !isAcAnimating) acHint.textContent = 'Click to greet!'
			}, 2000)
		}, 800) // 动画持续时间略长于 CSS 定义，确保安全
	})
</script>
